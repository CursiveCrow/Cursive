// RUN: run-fail
// EXIT: 1
// SPEC: 5.3
// DESC: Runtime panic on failed unwrap of None-like value

record Wrapper {
    has_value: bool
    value: i32
}

public procedure main(move ctx: Context) -> i32 {
    let w: Wrapper = Wrapper{ has_value: false, value: 0 }
    // Attempting to use value when has_value is false
    if w.has_value {
        return w.value
    }
    // Force a panic by calling a procedure that panics
    panic("Expected value but none present")
}
