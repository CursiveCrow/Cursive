// RUN: run-pass
// EXIT: 55
// SPEC: 18.1
// DESC: Basic parallel block with dispatch

public procedure main(move ctx: Context) -> i32 {
    var result: i32 = 0
    parallel ctx ~> cpu() {
        var sum: i32 = 0
        dispatch i in 1..11 {
            sum = sum + i
        }
        result = sum
    }
    return result
}
