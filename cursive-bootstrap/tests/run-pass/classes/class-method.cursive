// RUN: run-pass
// EXIT: 42
// SPEC: 13.3
// DESC: Class method with implementation

class Numeric {
    procedure double(~) -> i32
}

record Value <: Numeric {
    n: i32
    procedure double(~) -> i32 {
        return ~.n * 2
    }
}

public procedure main(move ctx: Context) -> i32 {
    let v: Value = Value { n: 21 }
    return v ~> double()
}
