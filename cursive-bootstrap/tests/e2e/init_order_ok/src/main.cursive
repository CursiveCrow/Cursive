# SPEC_COV: Init-Start
# SPEC_COV: Init-Step
# SPEC_COV: Init-Next-Module
# SPEC_COV: Init-Done
# SPEC_COV: Init-Ok
# SPEC_COV: Deinit-Ok

public procedure main(ctx: Context) -> i32 {
  let init_ok: bool = beta::bx == 42i32;
  let msg: string@View = if init_ok { "ok" } else { "bad" };
  let _ = match ctx.fs~>write_stdout(msg) {
    ok: () => (),
    err: IoError => ()
  };
  return 0i32;
}
