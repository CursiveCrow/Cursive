// RUN: run-pass
// EXIT: 42
// SPEC: 6.2 ABI-Ret-ByValue
// DESC: Verify return value in register for small types

procedure return_i32() -> i32 {
    return 42
}

procedure return_pair() -> (i32, i32) {
    return (10, 32)
}

public procedure main(move ctx: Context) -> i32 {
    let v: i32 = return_i32()
    let p: (i32, i32) = return_pair()
    return if p.0 + p.1 == v { v } else { 1 }
}
