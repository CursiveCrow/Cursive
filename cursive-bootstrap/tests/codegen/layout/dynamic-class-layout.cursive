// RUN: compile-pass
// SPEC: 6.1 Layout-DynamicClass
// DESC: Verify dynamic class type layout (vtable pointer)

class Drawable {
    procedure draw(~) -> ()
}

class Printable {
    procedure print(~) -> ()
    procedure format(~) -> i32
}

public procedure main(move ctx: Context) -> i32 {
    // Dynamic class reference is a fat pointer: data ptr + vtable ptr
    static_assert(sizeof($Drawable) == 16)
    static_assert(alignof($Drawable) == 8)

    // Dynamic class size is independent of method count
    static_assert(sizeof($Printable) == 16)
    static_assert(alignof($Printable) == 8)

    return 0
}
