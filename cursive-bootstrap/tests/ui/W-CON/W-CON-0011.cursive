// RUN: compile-pass
// DIAG: W-CON-0011
// SPEC: 14.2
// DESC: Access to potentially stale binding after release

public procedure main(move ctx: Context) -> i32 {
    let x: shared i32 = 42
    var val: i32 = 0
    #x {
        val = x
    }
    #x release {
        // stale binding access after release
    }
    let z = val //~ WARN W-CON-0011: potentially stale binding after release
    return 0
}
