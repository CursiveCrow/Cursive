// RUN: compile-pass
// DIAG: W-CON-0010
// SPEC: 14.2
// DESC: release block permits interleaving

public procedure main(move ctx: Context) -> i32 {
    let x: shared i32 = 42
    #x release write { //~ WARNING W-CON-0010
        let v = x
    }
    return 0
}
