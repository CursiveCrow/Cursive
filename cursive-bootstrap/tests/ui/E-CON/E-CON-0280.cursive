// RUN: compile-fail
// DIAG: E-CON-0280
// SPEC: 8.9
// DESC: Captured binding does not outlive async

async procedure capture_short() -> Future[i32] {
    let x: i32 = 42
    let f = async {  //~ ERROR E-CON-0280: captured binding lifetime
        return x
    }
    return f
}

public procedure main(move ctx: Context) -> i32 {
    return 0
}
