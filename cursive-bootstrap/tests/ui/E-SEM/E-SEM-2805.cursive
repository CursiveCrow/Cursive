// RUN: compile-fail
// DIAG: E-SEM-2805
// SPEC: 14.4
// DESC: @entry() result type not BitcopyType or CloneType

record NonCopy {
    data: unique [i32; 10]
}

[[entry]]
public procedure my_entry() -> NonCopy { //~ ERROR E-SEM-2805
    return NonCopy{ data: [0; 10] }
}

public procedure main(move ctx: Context) -> i32 {
    return 0
}
