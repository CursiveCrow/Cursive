// RUN: compile-fail
// DIAG: E-TYP-2631
// SPEC: 6.3
// DESC: [[export]] with unwind = "catch" requires zeroable return type

record NonZeroable {
    value: i32
}

[[export(unwind = "catch")]]
public procedure exported_fn() -> NonZeroable { //~ ERROR E-TYP-2631
    return NonZeroable{ value: 42 }
}

public procedure main(move ctx: Context) -> i32 {
    return 0
}
