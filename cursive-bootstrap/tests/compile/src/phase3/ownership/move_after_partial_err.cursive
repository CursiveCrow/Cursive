# SPEC_COV: Move-AfterPartial-Err
# SPEC_COV: B-Move-Whole-PartiallyMoved-Err
// E-MEM-3005: Cannot use binding after partial move.
// Tests that access to partially moved binding is rejected.

record Pair {
  a: i32,
  b: i32
}

public procedure main(ctx: Context) -> i32 {
  let p: unique Pair = unsafe { transmute::<Pair, unique Pair>(Pair { a: 1, b: 2 }) };
  let x: unique i32 = move p.a;
  let y: i32 = p.b;
  return 0;
}
