# SPEC_COV: C0X-14.6.1-TypeInvariant
# SPEC_COV: TypeInvariant-WF
// ยง14.6.1: Type invariant via where clause on record.
// Enforced post-construction, pre-call (public), post-call (mutator).

record BoundedCounter { value: u32, max: u32 }
where { self.value <= self.max }

public procedure main(ctx: Context) -> i32 {
  var c: BoundedCounter = BoundedCounter { value: 5, max: 10 }
  return c.value as i32
}
