# SPEC_COV: C0X-14.5.4-EntryNonCopyable
# SPEC_COV: E-SEM-2805
// ยง14.5.4: @entry(expr) result type MUST implement Bitcopy or Clone.
// Expected diagnostic: E-SEM-2805

record NonCopy { ptr: *imm i32 }

procedure bad_entry(x: NonCopy) -> i32
  |= => @entry(x).ptr != null
{
  return 0
}

public procedure main(ctx: Context) -> i32 {
  return 0
}
