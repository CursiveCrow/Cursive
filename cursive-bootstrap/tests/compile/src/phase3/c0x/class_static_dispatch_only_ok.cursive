# SPEC_COV: C0X-Class-StaticDispatchOnly
# SPEC_COV: C0X-Attr-StaticDispatchOnly
// Tests [[static_dispatch_only]] attribute excludes method from vtable.

class Processor {
  procedure simple(~) -> i32
  
  [[static_dispatch_only]]
  procedure generic_impl<T>(data: T) -> T
}

// Class is dispatchable because generic method is static-only
procedure use_dynamic(p: $Processor) -> i32 {
  return p ~> simple()
}

public procedure main(ctx: Context) -> i32 {
  return 0
}
