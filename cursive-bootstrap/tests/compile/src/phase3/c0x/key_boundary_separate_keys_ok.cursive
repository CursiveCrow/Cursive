# SPEC_COV: C0X-Key-TypeBoundary
# SPEC_COV: C0X-Key-BoundarySeparation
// Tests that fields after boundary have separate key roots.

record Internal { x: i32, y: i32 }
record Wrapper {
  #private: Internal
}

public procedure main(ctx: Context) -> i32 {
  var w: shared Wrapper = Wrapper { 
    #private: Internal { x: 1, y: 2 }
  }
  // Access to #private creates new key root
  # w.#private write {
    w.#private.x = 10
    w.#private.y = 20
  }
  return w.#private.x + w.#private.y
}
