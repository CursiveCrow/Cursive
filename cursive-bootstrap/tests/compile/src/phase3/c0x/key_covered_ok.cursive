# SPEC_COV: C0X-Key-Covered
# SPEC_COV: C0X-Key-Prefix
// Tests that a key covering a prefix also covers nested paths.

record Inner { val: i32 }
record Outer { inner: Inner }

public procedure main(ctx: Context) -> i32 {
  var o: shared Outer = Outer { inner: Inner { val: 42 } }
  # o write {
    // Key to 'o' covers 'o.inner' and 'o.inner.val'
    o.inner.val = 100
  }
  return o.inner.val
}
