# SPEC_COV: C0X-7.5-ConflictOverlapWrite
# SPEC_COV: Conflict-Definition
// ยง7.5: Conflict iff Overlap(P1, P2) AND (M1=Write OR M2=Write).
// Non-overlapping paths do NOT conflict.

record Data { x: i32, y: i32 }

public procedure main(ctx: Context) -> i32 {
  var d: shared Data = Data { x: 1, y: 2 }
  # d.x write {
    # d.y write {
      // d.x and d.y do not overlap, so no conflict
      d.x = 10
      d.y = 20
    }
  }
  return d.x + d.y
}
