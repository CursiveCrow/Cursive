# SPEC_COV: C0X-7.6.1-AcquireOrder
# SPEC_COV: KeyBlock-AcquireOrder
// ยง7.6.1: Acquisition order is canonical (lexicographic on normalized path segments).

record A { val: i32 }
record B { val: i32 }

public procedure main(ctx: Context) -> i32 {
  var a: shared A = A { val: 1 }
  var b: shared B = B { val: 2 }
  // Multiple paths acquired in canonical order to avoid deadlock
  # a, b {
    return a.val + b.val
  }
  return 0
}
