# SPEC_COV: C0X-6.4-BoundViolation
# SPEC_COV: E-SEM-2601
// ยง6.4: Type argument not satisfying bound is ill-formed.
// Expected diagnostic: E-SEM-2601

class HasLen {
  procedure len(~) -> usize
}

procedure get_len<T>(x: T) -> usize where T <: HasLen {
  return x ~> len()
}

record NoLen { value: i32 }

public procedure main(ctx: Context) -> i32 {
  var n: NoLen = NoLen { value: 42 }
  // NoLen does not implement HasLen
  var l: usize = get_len<NoLen>(n)
  return l as i32
}
