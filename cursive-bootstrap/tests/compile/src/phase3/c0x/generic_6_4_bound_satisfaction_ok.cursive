# SPEC_COV: C0X-6.4-BoundSatisfaction
# SPEC_COV: Bound-Satisfied
// ยง6.4: Type argument T satisfies bound B iff T <: B.

class Addable {
  procedure add(~, other: Self) -> Self
}

record Counter <: Addable {
  value: i32
  procedure add(~, other: Counter) -> Counter {
    return Counter { value: self.value + other.value }
  }
}

procedure sum<T>(a: T, b: T) -> T where T <: Addable {
  return a ~> add(b)
}

public procedure main(move ctx: Context) -> i32 {
  var c1: Counter = Counter { value: 10 }
  var c2: Counter = Counter { value: 32 }
  var result: Counter = sum<Counter>(c1, c2)
  return result.value
}
