# SPEC_COV: C0X-8-AssociatedType
# SPEC_COV: AssocType-WF
// ยง8: Associated types with bounds and defaults.

class Iterator {
  type Item
  type Error = ()
  
  procedure next(~!) -> Self::Item | Self::Error
}

record RangeIter <: Iterator {
  current: i32
  end: i32
  type Item = i32
  // Error uses default ()
  
  procedure next(~!) -> i32 | () {
    if self.current >= self.end {
      return ()
    }
    var val: i32 = self.current
    self.current = self.current + 1
    return val
  }
}

public procedure main(move ctx: Context) -> i32 {
  var iter: RangeIter = RangeIter { current: 0, end: 5 }
  return 0
}
