# SPEC_COV: C0X-Class-NonDispatchable
# SPEC_COV: E-TYP-2101
// Tests that non-dispatchable class cannot be used as dynamic type.
// Expected diagnostic: E-TYP-2101

class HasGenericMethod {
  procedure process<T>(data: T) -> T
}

procedure use_dynamic(obj: $HasGenericMethod) -> i32 {
  // Error: class not dispatchable (has generic method)
  return 0
}

public procedure main(ctx: Context) -> i32 {
  return 0
}
