# SPEC_COV: C0X-8.1-AcyclicSuperclass
# SPEC_COV: ClassDecl-Acyclic
// ยง8.1: Superclass bounds MUST be acyclic.

class Base {
  procedure base_method(~) -> i32
}

class Derived <: Base {
  procedure derived_method(~) -> i32
}

record MyType <: Base, Derived {
  value: i32
  procedure base_method(~) -> i32 { return self.value }
  procedure derived_method(~) -> i32 { return self.value * 2 }
}

public procedure main(move ctx: Context) -> i32 {
  var m: MyType = MyType { value: 21 }
  return m ~> base_method() + m ~> derived_method()
}
