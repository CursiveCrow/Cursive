# SPEC_COV: C0X-Parallel-Multi-Spawn
# SPEC_COV: T-Parallel-Multi
// Tests parallel with multiple spawns returns tuple (§18.1.3)
// Γ ⊢ `spawn` {e_i} : SpawnHandle⟨T_i⟩    ∀ i ∈ 1..n
// ──────────────────────────────────────────────────────────────────────────────────────────────────
// Γ ⊢ `parallel` D {`spawn` {e_1}; …; `spawn` {e_n}} : (T_1, …, T_n)
// Expected: no diagnostics

public procedure main(ctx: Context) -> i32 {
  let domain: $ExecutionDomain = ctx~>cpu()
  // Multiple spawns - result type is tuple (i32, bool, i32)
  let res = parallel domain {
    spawn { 42 }
    spawn { true }
    spawn { 100 }
  }
  return res.0 + if res.1 { 1 } else { 0 } + res.2
}
