# SPEC_COV: C0X-6.6-Monomorphize
# SPEC_COV: Monomorphization
// ยง6.6: Generics defined by elaboration to monomorphic program.

record Container<T> { value: T }

procedure get_value<T>(c: Container<T>) -> T {
  return c.value
}

public procedure main(ctx: Context) -> i32 {
  var c1: Container<i32> = Container<i32> { value: 42 }
  var c2: Container<bool> = Container<bool> { value: true }
  // Monomorphizes to get_value_i32 and get_value_bool
  var v1: i32 = get_value<i32>(c1)
  var v2: bool = get_value<bool>(c2)
  if v2 { return v1 } else { return 0 }
}
