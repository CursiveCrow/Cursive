# SPEC_COV: Method-ComputeFields
# SPEC_COV: T-Field
// Method that computes with multiple field accesses.
// Tests that self.field can be used in binary expressions.

record Point {
  x: i32,
  y: i32,
  procedure sum(~) -> i32 { return self.x + self.y; },
  procedure product(~) -> i32 { return self.x * self.y; }
}

public procedure main(ctx: Context) -> i32 {
  let p = Point { x: 3, y: 4 };
  return p~>sum() + p~>product();
}
