# SPEC_COV: Dyn-MethodChain
# SPEC_COV: T-Dynamic-MethodCall
// Dynamic dispatch with multiple method calls.
// Tests sequential calls on dynamic type.

class Counter { procedure get(~) -> i32; }
record IntCounter <: Counter { v: i32, procedure get(~) -> i32 { return 1; } }

public procedure main(ctx: Context) -> i32 {
  let r = IntCounter { v: 10 };
  let d: $Counter = r as $Counter;
  let a = d~>get();
  return a;
}
