# SPEC_COV: FieldAccess-ArrayElement
# SPEC_COV: T-Field
# SPEC_COV: T-Array-Index
// ยง11.6.2 + ยง11.3: Field access on array element.
// Combines array indexing with field access. C0 requires constant indices.

record Container {
  values: [i32; 3]
  procedure get_first(~) -> i32 {
    return self.values[0usize]
  }
  procedure get_second(~) -> i32 {
    return self.values[1usize]
  }
  procedure get_third(~) -> i32 {
    return self.values[2usize]
  }
}

public procedure main(move ctx: Context) -> i32 {
  let c: Container = Container { values: [10, 20, 30] }
  return c ~> get_first() + c ~> get_second() + c ~> get_third()
}
