# SPEC_COV: Perm-Nested-Read
# SPEC_COV: P-Field-Perm-Propagate
// Reading nested fields through const binding is allowed.
// Tests that const permission allows read operations.

record Level3 { val: i32 }
record Level2 { l3: Level3 }
record Level1 { l2: Level2 }

public procedure main(ctx: Context) -> i32 {
  let root: Level1 = Level1 { l2: Level2 { l3: Level3 { val: 42 } } };
  return root.l2.l3.val;
}
