# SPEC_COV: Parse-KeyPath
# SPEC_COV: Parse-KeyPath-Coarsen
# SPEC_COV: Parse-KeyMarker
// Tests parsing of key path with coarsening marker on field.

record Inner { val: i32 }
record Outer { inner: Inner }

public procedure main(ctx: Context) -> i32 {
  var o: shared Outer = Outer { inner: Inner { val: 42 } }
  // Coarsen at .#inner - key stops at inner, covers inner.val
  # o.#inner.val {
    return o.inner.val
  }
  return 0
}
