# SPEC_COV: LookupMethod-NotFound
# SPEC_COV: LookupMethod-Ambig
# SPEC_COV: LookupClassMethod-NotFound
class A { procedure foo(~) -> i32 { return 0; } }
class B { procedure foo(~) -> i32 { return 0; } }
class C { procedure foo(~) -> i32; }

record R1 { v: i32 }
record R2 <: A, B { v: i32 }
record R3 <: C { v: i32, procedure foo(~) -> i32 { return 0; } }

procedure p1() -> i32 {
  let r = R1 { v: 0 };
  return r~>miss();
}

procedure p2() -> i32 {
  let r = R2 { v: 0 };
  return r~>foo();
}

procedure p3() -> i32 {
  let r = R3 { v: 0 };
  let d: $C = r as $C;
  return d~>bar();
}
