
class D { procedure ping(~) -> i32; }
record R <: D { v: i32, procedure ping(~) -> i32 { 7i32 } }

public procedure main(ctx: Context) -> i32 {
  let r = R { v: 0 };
  let d: $D = r as $D;
  let out: i32 = d~>ping();
  let msg: string@View = if out == 7i32 { "ok" } else { "bad" };
  let _ = match ctx.fs~>write_stdout(msg) {
    ok: () => (),
    err: IoError => ()
  };
  0i32
}
