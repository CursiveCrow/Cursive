// RUN: run-pass
// EXIT: 42
// SPEC: 6.2 ABI-Param-ByValue-Move
// DESC: Verify move parameter passed by value for small types

procedure take_small(move x: i32) -> i32 {
    return x
}

procedure take_pair(move p: (i32, i32)) -> i32 {
    return p.0 + p.1
}

public procedure main(move ctx: Context) -> i32 {
    let v: i32 = 42
    let result: i32 = take_small(move v)

    let pair: (i32, i32) = (10, 20)
    let sum: i32 = take_pair(move pair)

    return if sum == 30 { result } else { 1 }
}
