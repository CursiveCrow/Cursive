// RUN: run-pass
// EXIT: 15
// SPEC: 6.2 ABI-Param-ByRef-Move
// DESC: Verify move parameter passed by reference for large types

record LargeRecord {
    a: i64
    b: i64
    c: i64
    d: i64
    e: i64
}

procedure take_large(move x: LargeRecord) -> i64 {
    return x.a + x.b + x.c + x.d + x.e
}

public procedure main(move ctx: Context) -> i32 {
    let r: LargeRecord = LargeRecord { a: 1, b: 2, c: 3, d: 4, e: 5 }
    let sum: i64 = take_large(move r)
    return sum as i32
}
