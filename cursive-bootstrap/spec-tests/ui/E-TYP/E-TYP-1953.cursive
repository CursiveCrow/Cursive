// RUN: compile-fail
// DIAG: E-TYP-1953
// SPEC: 5.2.13
// DESC: Refinement not provable outside [[dynamic]] scope

type Positive = i32 where self > 0

procedure needs_positive(x: Positive) -> i32 {
    return x
}

public procedure main(move ctx: Context) -> i32 {
    let x: i32 = -5
    return needs_positive(x) //~ ERROR E-TYP-1953
}
