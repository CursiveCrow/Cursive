// RUN: compile-fail
// DIAG: E-SEM-2535
// SPEC: 8.17
// DESC: move argument provided but parameter is not move

record Data {
    value: i32
}

procedure borrow(d: Data) -> i32 {
    return d.value
}

procedure call_with_extra_move() -> i32 {
    let d: Data = Data { value: 42 }
    return borrow(move d)  //~ ERROR E-SEM-2535: move unexpected
}

public procedure main(move ctx: Context) -> i32 {
    return 0
}
