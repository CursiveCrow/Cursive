// RUN: compile-fail
// DIAG: E-SEM-3004
// SPEC: 14.4
// DESC: Impure expression in contract clause

var counter: i32 = 0

procedure increment() -> i32 {
    counter = counter + 1
    return counter
}

procedure bad_contract(x: i32) -> i32
    requires { increment() > 0 } //~ ERROR E-SEM-3004
{
    return x
}

public procedure main(move ctx: Context) -> i32 {
    return 0
}
