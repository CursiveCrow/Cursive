// RUN: run-pass
// EXIT: 0
// SPEC: 5.4
// DESC: Basic modal type with states

modal Connection {
    state Open {
        id: i32
    }
    state Closed { }
}

public procedure main(move ctx: Context) -> i32 {
    let conn: Connection@Closed = Connection@Closed { }
    return 0
}
