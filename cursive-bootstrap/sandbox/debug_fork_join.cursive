public procedure main(ctx: Context) -> i32 {
  let domain = ctx~>cpu()

  let total = parallel domain {
    let h1 = spawn {
      42
    }
    let h2 = spawn {
      42
    }

    (wait h1) + (wait h2)
  }

  let out_msg = "84"
  let _ = match ctx.fs~>write_stdout(out_msg) {
    ok: () => ()
    err: IoError => ()
  }

  return 0i32
}
