// Tests that panic in spawned task propagates to parallel block boundary.

public procedure main(ctx: Context) -> i32 {
  let domain = ctx~>cpu()

  parallel domain {
    // This will panic
    spawn {
      cursive::runtime::panic(1u32)
    }
  }

  // Should not reach here
  return 0i32
}